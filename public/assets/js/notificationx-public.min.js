!function(g){"use strict";g.notificationx=g.notificationx||{},g.notificationx.active_pressbar=0,g(document).ready(function(){g.notificationx.init()}),g.notificationx.init=function(){g.notificationx.windowWidth=g(window).outerWidth(),g.notificationx.pressbar(),g.notificationx.conversions(),g.notificationx.events()},g.notificationx.pressbar=function(){var n=g(".nx-bar");0<n.length&&n.each(function(n,r){var t=r.dataset.press_id,i=r.dataset.hide_after,o=r.dataset.auto_hide,e=r.dataset.close_forever,a=new Date(r.dataset.start_date),s=new Date(r.dataset.end_date),c=a.getTime(),f=s.getTime(),x=(new Date).getTime(),d=g(r).outerHeight(),l=1e3*r.dataset.initial_delay,u=r.dataset.position;if(setTimeout(function(){g("body").addClass("has-nx-bar").css("padding-"+u,d)},l),parseInt(o)&&setTimeout(function(){g("body").css("padding-"+u,0).removeClass("has-nx-bar")},1e3*parseInt(i)),c<x&&x<f)var p=setInterval(function(){var n=(new Date).getTime(),t=f-n,i=Math.floor(t/864e5),o=Math.floor(t%864e5/36e5),e=Math.floor(t%36e5/6e4),a=Math.floor(t%6e4/1e3);if(r.querySelector(".nx-days").innerHTML=i,r.querySelector(".nx-hours").innerHTML=o,r.querySelector(".nx-minutes").innerHTML=e,r.querySelector(".nx-seconds").innerHTML=a,t<0){clearInterval(p),r.querySelector(".nx-countdown").classList.add("nx-expired");var s=r.querySelector(".nx-countdown-text");null!=s&&s.classList.add("nx-expired")}},1e3);else{var v=r.querySelector(".nx-countdown");null!=v&&v.classList.add("nx-expired");var h=r.querySelector(".nx-countdown-text");null!=h&&h.classList.add("nx-expired")}g.notificationx.showBar(r,t),""===i&&void 0===i||!parseInt(o)||setTimeout(function(){g.notificationx.hideBar("nx-bar-"+t,e)},1e3*parseInt(i))})},g.notificationx.conversions=function(){"undefined"!=typeof notificationx&&(window.localStorage.removeItem("nx_notifications"),0<notificationx.conversions.length&&(1<notificationx.conversions.length?notificationx.conversions.map(function(n){g.notificationx.process(n)}):g.notificationx.process(notificationx.conversions[0])),0<notificationx.reviews.length&&(1<notificationx.reviews.length?notificationx.reviews.map(function(n){g.notificationx.process(n)}):g.notificationx.process(notificationx.reviews[0])),0<notificationx.stats.length&&(1<notificationx.stats.length?notificationx.stats.map(function(n){g.notificationx.process(n)}):g.notificationx.process(notificationx.stats[0])),0<notificationx.comments.length&&g.notificationx.process(notificationx.comments[0]),0<notificationx.pro_ext.length&&notificationx.pro_ext.map(function(n,t){g.notificationx.process(n)}))},g.notificationx.events=function(){var n=g(".nx-bar .nx-close");null!==n&&n.on("click",function(n){var t=g("#"+n.currentTarget.offsetParent.id).data("position");g.notificationx.active_pressbar=0,g.notificationx.hideBar(n.currentTarget.offsetParent.id),g("body").css("padding-"+t,0).removeClass("has-nx-bar")})},g.notificationx.showBar=function(t,i){if(Cookies.get("notificationx_nx-bar-"+i))return!1;var n=parseInt(t.dataset.initial_delay),o=g(t).children(".nx-bar-inner"),e=document.querySelector("#wpadminbar"),a=null!=e?e.offsetHeight:0;""!==n&&!isNaN(n)||(n=0),setTimeout(function(){var n=g("html");n.addClass("nx-bar-active"),g(t).hasClass("nx-position-top")&&(g(n).animate([{"padding-top":0},{"padding-top":o+"px"}],{duration:300}),n.css("padding-top",o+"px"),g(t).animate([{top:"0px"},{top:a+"px"}],{duration:300}),g(t).css("top",a+"px")),g(t).addClass("nx-bar-visible"),g("body").trigger("nx_frontend_bar_show",[t,i]),g.notificationx.active_pressbar=1},1e3*n)},g.notificationx.hideBar=function(n){var t=g(".nx-bar#"+n),i=g("html");if(t[0].dataset.close_forever){var o=(new Date).getTime()+5184e6,e=new Date(o);Cookies.set("notificationx_"+n,!0,{expires:e,path:"/"})}i.removeClass("nx-bar-active"),i.css("padding-top",0),t.animate({height:"0px"},300),t.removeClass("nx-bar-visible"),g.notificationx.active_pressbar=0},g.notificationx.render=function(t,n){var i=document.createElement("div");i.classList.add("notificationx-conversions"),i.insertAdjacentHTML("beforeend",n);var o=0,e=i.querySelectorAll(".notificationx-"+t.id),a=t.delay_between,s=g.notificationx.last(t.id,!1);0<=s&&(o=s+1),0===t.loop&&1===e.length&&(o=0),g("body").trigger("nx_before_render",[t,n]),setTimeout(function(){g.notificationx.show(e[o],t,o),setTimeout(function(){g.notificationx.hide(e[o]),o++;var n=setInterval(function(){g.notificationx.show(e[o],t,o),setTimeout(function(){g.notificationx.hide(e[o]),o>=e.length-1?(o=0)==t.loop&&clearInterval(n):o++},t.display_for)},a+t.display_for)},t.display_for)},t.delay_before)},g.notificationx.process=function(n){fetch(notificationx.ajaxurl,{method:"POST",credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:"action=nx_get_conversions&nonce="+notificationx.nonce+"&ids="+n}).then(function(n){return n.json()}).then(function(n){g.notificationx.render(n.config,n.content)}).catch(function(n){console.log("AJAX error, Something went wrong! Please, Contact support team.")})},g.notificationx.show=function(n,t,i){if(void 0!==n&&0!==n.length&&!Cookies.get("nx-close-for-session")){var o=g("body"),e=-1!=n.classList.value.indexOf("nx-mobile-notification"),a=e?"10px":"30px";o.append(n),480<g.notificationx.windowWidth&&e&&(a="20px"),786<g.notificationx.windowWidth&&(a="30px"),g(n).animate({bottom:a,opacity:1},500),o.trigger("nx_frontend_jquery",[t,n]),g.notificationx.save(t.id,i);var s=g(n).find(".notificationx-close");null!=s&&s.on("click",function(n){var t=g(this),i=g(t[0]).parents(".nx-notification");g.notificationx.hide(i),Cookies.set("nx-close-for-session",1)})}},g.notificationx.hide=function(n){void 0!==n&&(Cookies.get("nx-close-for-session")||(g(n).animate({bottom:"0px",opacity:0},500),setTimeout(function(){g.notificationx.remove(g(n))},300)))},g.notificationx.remove=function(n){n.remove()},g.notificationx.save=function(n,t){if(window.localStorage){var i=g.notificationx.last(n,!0);"object"==typeof i?i[n]=t:(i=new Object)[n]=t,window.localStorage.setItem("nx_notifications",JSON.stringify(i))}else console.log("Browser does not support localStorage!")},g.notificationx.last=function(n,t){var i=-1;if(window.localStorage){var o=window.localStorage.getItem("nx_notifications");if(null!==o&&void 0!==(o=JSON.parse(o))[n]){if(t)return o;i=o[n]}}else console.log("Browser does not support localStorage!");return i}}(jQuery);