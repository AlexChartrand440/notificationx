!function(w){"use strict";w.notificationx=w.notificationx||{},w.notificationx.active_pressbar=0,w(document).ready(function(){w.notificationx.init()}),w.notificationx.init=function(){w.notificationx.windowWidth=w(window).outerWidth(),w.notificationx.pressbar(),w.notificationx.conversions(),w.notificationx.analytics(),w.notificationx.events()},w.notificationx.Ajaxlytics=function(n){if(n!={}&&null!=n&&"undefined"!=typeof NotificationX){if(null==n.nonce)return;jQuery.ajax({type:"POST",url:NotificationX.ajaxurl,data:{action:"notificationx_pro_analytics",nonce:n.nonce,id:n.id,clicked:n.clicked||!1,nonce_key:n.nonce_key||!1},success:function(n){}})}},w.notificationx.analytics=function(){var e={};w("body").on("nx_frontend_bar_show",function(n,i,t){var o=w(i).data("nonce");e.nonce=o,e.id=t,e.nonce_key="_notificationx_bar_nonce",null!=o&&(w.notificationx.Ajaxlytics(e),w(i).find("a.nx-bar-button").on("click",function(n){n.preventDefault(),e.clicked=!0,w.notificationx.Ajaxlytics(e),e.clicked=!1,window.location.href=w(this).attr("href")}))}),w("body").on("nx_before_render",function(n,i,t){if(i.id){var o=w(t).find(".notificationx-analytics").val();e.nonce=o,e.id=i.id,e.nonce_key="_notificationx_pro_analytics_nonce",w.notificationx.Ajaxlytics(e)}}),w("body").on("nx_frontend_jquery",function(n,t,i){t.id&&w(i).on("click",function(n){var i=w(this).find(".notificationx-analytics").val();e.nonce=i,e.id=t.id,e.nonce_key="_notificationx_pro_analytics_nonce",e.clicked=!0,w.notificationx.Ajaxlytics(e),e.clicked=!1})})},w.notificationx.pressbar=function(){var n=w(".nx-bar");0<n.length&&n.each(function(n,s){var i=s.dataset.press_id,t=s.dataset.hide_after,o=s.dataset.auto_hide,e=s.dataset.sticky_bar,a=s.dataset.close_forever,c=new Date(s.dataset.start_date),r=new Date(s.dataset.end_date),f=c.getTime(),l=r.getTime(),d=(new Date).getTime(),x=w(s).outerHeight(),u=1e3*s.dataset.initial_delay,p=s.dataset.position,v=s.dataset.body_push;if(Cookies.get("notificationx_nx-bar-"+i))return!1;if("pushed"==v||null==v){var h=setTimeout(function(){if(w(".eael-offcanvas-container").length){Boolean(e)&&32,w(".eael-offcanvas-container").addClass("has-nx-bar").css("padding-"+p,x)}else w("body").addClass("has-nx-bar").css("padding-"+p,x);clearTimeout(h)},u);if(parseInt(o))var g=setTimeout(function(){w(".eael-offcanvas-container").length?w(".eael-offcanvas-container").css("padding-"+p,0).removeClass("has-nx-bar"):w("body").css("padding-"+p,0).removeClass("has-nx-bar"),clearTimeout(g)},1e3*parseInt(t))}if(f<d&&d<l)var m=setInterval(function(){var n=Date.now(),i=l-n,t=Math.floor(i/864e5),o=Math.floor(i%864e5/36e5),e=Math.floor(i%36e5/6e4),a=Math.floor(i%6e4/1e3);if(s.querySelector(".nx-days").innerHTML=t,s.querySelector(".nx-hours").innerHTML=o,s.querySelector(".nx-minutes").innerHTML=e,s.querySelector(".nx-seconds").innerHTML=a,i<0){clearInterval(m),s.querySelector(".nx-countdown").classList.add("nx-expired");var c=s.querySelector(".nx-countdown-text");null!=c&&c.classList.add("nx-expired")}},1e3);else{var _=s.querySelector(".nx-countdown");null!=_&&_.classList.add("nx-expired");var y=s.querySelector(".nx-countdown-text");null!=y&&y.classList.add("nx-expired")}if(w.notificationx.showBar(s,i),(""!==t||void 0!==t)&&parseInt(o))var b=setTimeout(function(){w.notificationx.hideBar("nx-bar-"+i,a),clearTimeout(b)},1e3*parseInt(t))})},w.notificationx.conversions=function(){"undefined"!=typeof notificationx&&(window.localStorage.removeItem("nx_notifications"),0<notificationx.conversions.length&&(1<notificationx.conversions.length?notificationx.conversions.map(function(n){w.notificationx.process(n)}):w.notificationx.process(notificationx.conversions[0])),0<notificationx.reviews.length&&(1<notificationx.reviews.length?notificationx.reviews.map(function(n){w.notificationx.process(n)}):w.notificationx.process(notificationx.reviews[0])),0<notificationx.form.length&&(1<notificationx.form.length?notificationx.form.map(function(n){w.notificationx.process(n)}):w.notificationx.process(notificationx.form[0])),0<notificationx.stats.length&&(1<notificationx.stats.length?notificationx.stats.map(function(n){w.notificationx.process(n)}):w.notificationx.process(notificationx.stats[0])),0<notificationx.comments.length&&w.notificationx.process(notificationx.comments[0]),0<notificationx.pro_ext.length&&notificationx.pro_ext.map(function(n,i){w.notificationx.process(n)}))},w.notificationx.events=function(){var n=w(".nx-bar .nx-close");null!==n&&n.on("click",function(n){w.notificationx.active_pressbar=0,w.notificationx.hideBar(n.currentTarget.offsetParent.id)})},w.notificationx.showBar=function(i,t){if(Cookies.get("notificationx_nx-bar-"+t))return!1;var n=parseInt(i.dataset.initial_delay),o=w(i).children(".nx-bar-inner"),e=document.querySelector("#wpadminbar"),a=null!=e?e.offsetHeight:0;""!==n&&!isNaN(n)||(n=0);var c=setTimeout(function(){var n=w("html");n.addClass("nx-bar-active"),w(i).hasClass("nx-position-top")&&(w(n).animate([{"padding-top":0},{"padding-top":o+"px"}],{duration:300}),n.css("padding-top",o+"px"),w(i).animate([{top:"0px"},{top:a+"px"}],{duration:300}),0===w(".eael-offcanvas-container").length&&w(i).css("top",a+"px")),w(i).addClass("nx-bar-visible"),w("body").trigger("nx_frontend_bar_show",[i,t]),w.notificationx.active_pressbar=1,clearTimeout(c)},1e3*n)},w.notificationx.hideBar=function(n){var i=w(".nx-bar#"+n),t=w("html"),o=i[0].dataset.close_forever,e=w("#"+n).data("position");if(o){var a=(new Date).getTime()+5184e6,c=new Date(a);Cookies.set("notificationx_"+n,!0,{expires:c,path:"/"})}t.removeClass("nx-bar-active"),t.css("padding-top",0),w(".eael-offcanvas-container").length?i.addClass("nx-bar-out").parents(".eael-offcanvas-container").css("padding-"+e,0).removeClass("has-nx-bar"):i.addClass("nx-bar-out").parents("body").css("padding-"+e,0).removeClass("has-nx-bar"),i.removeClass("nx-bar-visible"),w.notificationx.active_pressbar=0},w.notificationx.render=function(i,n){var t=document.createElement("div");t.classList.add("notificationx-conversions"),t.insertAdjacentHTML("beforeend",n);var o=0,e=t.querySelectorAll(".notificationx-"+i.id),a=i.delay_between,c=w.notificationx.last(i.id,!1);0<=c&&(o=c+1),0===i.loop&&1===e.length&&(o=0),w("body").trigger("nx_before_render",[i,n]),setTimeout(function(){w.notificationx.show(e[o],i,o),setTimeout(function(){w.notificationx.hide(e[o]),o++;var n=setInterval(function(){w.notificationx.show(e[o],i,o),setTimeout(function(){w.notificationx.hide(e[o]),o>=e.length-1?(o=0)==i.loop&&clearInterval(n):o++},i.display_for)},a+i.display_for)},i.display_for)},i.delay_before)},w.notificationx.process=function(n){fetch(notificationx.ajaxurl,{method:"POST",credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:"action=nx_get_conversions&nonce="+notificationx.nonce+"&ids="+n}).then(function(n){return n.json()}).then(function(n){w.notificationx.render(n.config,n.content)}).catch(function(n){console.log("AJAX error, Something went wrong! Please, Contact support team.")})},w.notificationx.show=function(n,i,t){if(void 0!==n&&0!==n.length&&!Cookies.get("nx-close-for-session")){var o=w(n).find("img");if(a=-1,null!=(o=o[0]))var e=o.src,a=o.src.indexOf(".gif");var c=w("body"),s=-1!=n.classList.value.indexOf("nx-mobile-notification"),r=s?"10px":"30px";c.append(n),0<a&&(o.src=e),480<w.notificationx.windowWidth&&s&&(r="20px"),786<w.notificationx.windowWidth&&(r="30px"),w(n).animate({bottom:r,opacity:1},500),c.trigger("nx_frontend_jquery",[i,n]),w.notificationx.save(i.id,t);var f=w(n).find(".notificationx-close");null!=f&&f.on("click",function(n){var i=w(this),t=w(i[0]).parents(".nx-notification");w.notificationx.hide(t),Cookies.set("nx-close-for-session",1)})}},w.notificationx.hide=function(n){void 0!==n&&(Cookies.get("nx-close-for-session")||(w(n).animate({bottom:"0px",opacity:0},500),setTimeout(function(){w.notificationx.remove(w(n))},300)))},w.notificationx.remove=function(n){n.remove()},w.notificationx.save=function(n,i){if(window.localStorage){var t=w.notificationx.last(n,!0);"object"==typeof t?t[n]=i:(t=new Object)[n]=i,window.localStorage.setItem("nx_notifications",JSON.stringify(t))}else console.log("Browser does not support localStorage!")},w.notificationx.last=function(n,i){var t=-1;if(window.localStorage){var o=window.localStorage.getItem("nx_notifications");if(null!==o&&void 0!==(o=JSON.parse(o))[n]){if(i)return o;t=o[n]}}else console.log("Browser does not support localStorage!");return t}}(jQuery);