var notificationX_pressbar_active=0;function notificationX_initialize(){notificationX_pressbar(),notificationX_conversion(),notificationX_events()}function notificationX_events(){var t=document.querySelector(".nx-bar .nx-close");null!==t&&t.addEventListener("click",function(t){notificationX_pressbar_active=0,notificationX_hideBar(t.currentTarget.offsetParent.id)})}function notificationX_pressbar(){var t=document.querySelectorAll(".nx-bar");0<t.length&&t.forEach(function(r){var t=r.dataset.press_id,n=r.dataset.hide_after,i=r.dataset.auto_hide,o=r.dataset.close_forever,e=new Date(r.dataset.start_date),a=new Date(r.dataset.end_date),c=e.getTime(),s=a.getTime(),f=(new Date).getTime();if(c<f&&f<s)var l=setInterval(function(){var t=(new Date).getTime(),n=s-t,i=Math.floor(n/864e5),o=Math.floor(n%864e5/36e5),e=Math.floor(n%36e5/6e4),a=Math.floor(n%6e4/1e3);r.querySelector(".nx-days").innerHTML=i,r.querySelector(".nx-hours").innerHTML=o,r.querySelector(".nx-minutes").innerHTML=e,r.querySelector(".nx-seconds").innerHTML=a,n<0&&(clearInterval(l),r.querySelector(".nx-countdown").classList.add("nx-expired"))},1e3);notificationX_showBar(r,t),""===n&&void 0===n||!parseInt(i)||setTimeout(function(){notificationX_hideBar("nx-bar-"+t,o)},1e3*parseInt(n))})}function notificationX_showBar(n,t){if(""===n&&(n=document.querySelector(".nx-bar .nx-bar-"+t)),Cookies.get("notificationx_nx-bar-"+t))return!1;var i=parseInt(n.dataset.initial_delay),o=n.querySelector(".nx-bar-inner").offsetHeight,e=document.querySelector("#wpadminbar"),a=null!=e?e.offsetHeight:0;(""===i||isNaN(i))&&(i=0),setTimeout(function(){var t=document.querySelector("html");t.classList.add("nx-bar-active"),n.classList.contains("nx-position-top")&&(t.animate([{paddingTop:0},{paddingTop:o+"px"}],{duration:300}),t.style.paddingTop=o+"px",n.animate([{top:"0px"},{top:a+"px"}],{duration:300}),n.style.top=a+"px"),n.classList.add("nx-bar-visible"),notificationX_pressbar_active=1},1e3*i)}function notificationX_hideBar(t){var n=document.querySelector(".nx-bar#"+t),i=document.querySelector("html");if(n.dataset.close_forever){var o=(new Date).getTime()+5184e6,e=new Date(o);Cookies.set("notificationx_"+t,!0,{expires:e,path:"/"})}i.classList.remove("nx-bar-active"),i.style.paddingTop=0,n.animate([{height:n.offsetHeight+"px"},{height:"0px"}],{duration:300}),n.classList.remove("nx-bar-visible"),notificationX_pressbar_active=0}function notificationX_conversion(){"undefined"!=typeof notificationx&&(window.localStorage.removeItem("nx_notifications"),0<notificationx.conversions.length&&notificationX_process(notificationx.conversions[0]),0<notificationx.comments.length&&notificationX_process(notificationx.comments[0]),0<notificationx.pro_ext.length&&notificationx.pro_ext.map(function(t,n){notificationX_process(t[0])}))}function notificationX_render(n,t){var i=document.createElement("div");i.classList.add("notificationx-conversions"),i.insertAdjacentHTML("beforeend",t);var o=0,e=i.querySelectorAll(".notificationx-"+n.id),a=n.delay_between,r=notificationX_last(n.id,!1);0<=r&&(o=r+1),0===n.loop&&1===e.length&&(o=0),setTimeout(function(){notificationX_show(e[o],n,o),setTimeout(function(){notificationX_hide(e[o]),o++;var t=setInterval(function(){notificationX_show(e[o],n,o),setTimeout(function(){notificationX_hide(e[o]),o>=e.length-1?(o=0)===n.loop&&clearInterval(t):o++},n.display_for)},a+n.display_for)},n.display_for)},n.delay_before)}function notificationX_process(t){fetch(notificationx.ajaxurl,{method:"POST",credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:"action=nx_get_conversions&nonce="+notificationx.nonce+"&ids="+t}).then(function(t){return t.json()}).then(function(t){notificationX_render(t.config,t.content)}).catch(function(t){})}function notificationX_show(t,n,i){if(void 0!==t&&0!==t.length){document.querySelector("body").append(t),t.animate([{bottom:"0px",opacity:0},{bottom:"30px",opacity:1}],{duration:500}),t.style.bottom="30px",t.style.opacity=1,notificationX_save(n.id,i);var o=document.querySelector(".notificationx-close");null!=o&&o.addEventListener("click",function(t){var n=jQuery(this);notificationX_hide(jQuery(n[0]).parents(".nx-notification"))})}}function notificationX_hide(t){void 0!==t&&(t.animate([{opacity:1,bottom:"30px"},{opacity:0,bottom:"0px"}],{duration:300}),setTimeout(function(){notificationX_remove(t)},300))}function notificationX_remove(t){t.remove()}function notificationX_save(t,n){if(window.localStorage){var i=notificationX_last(t,!0);"object"==typeof i?i[t]=n:(i=new Object)[t]=n,window.localStorage.setItem("nx_notifications",JSON.stringify(i))}else console.log("Browser does not support localStorage!")}function notificationX_last(t,n){var i=-1;if(window.localStorage){var o=window.localStorage.getItem("nx_notifications");if(null!==o&&void 0!==(o=JSON.parse(o))[t]){if(n)return o;i=o[t]}}else console.log("Browser does not support localStorage!");return i}window.addEventListener("DOMContentLoaded",function(t){notificationX_initialize()});