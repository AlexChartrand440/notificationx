window.addEventListener("DOMContentLoaded",function(e){var t,n;function f(e){var t=document.querySelector(".nx-bar#"+e),n=document.querySelector("html");if(t.dataset.close_forever){var o=(new Date).getTime()+5184e6,i=new Date(o);Cookies.set("notificationx_"+e,!0,{expires:i,path:"/"})}n.classList.remove("nx-bar-active"),n.style.paddingTop=0,t.animate([{height:t.offsetHeight+"px"},{height:"0px"}],{duration:300}),t.classList.remove("nx-bar-visible"),0}function o(e){fetch(notificationx.ajaxurl,{method:"POST",credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:"action=nx_get_conversions&nonce="+notificationx.nonce+"&ids="+e}).then(function(e){return e.json()}).then(function(e){!function(t,e){var n=document.createElement("div");n.classList.add("notificationx-conversions"),n.insertAdjacentHTML("beforeend",e);var o=0,i=n.querySelectorAll(".notificationx-"+t.id),a=t.delay_between,r=l(t.id,!1);0<=r&&(o=r+1),0===t.loop&&1===i.length&&(o=0),setTimeout(function(){c(i[o],t,o),setTimeout(function(){s(i[o]),o++;var e=setInterval(function(){c(i[o],t,o),setTimeout(function(){s(i[o]),o>=i.length-1?(o=0)===t.loop&&clearInterval(e):o++},t.display_for)},a+t.display_for)},t.display_for)},t.delay_before)}(e.config,e.content)}).catch(function(e){})}function c(e,t,n){void 0!==e&&0!==e.length&&(document.querySelector("body").append(e),e.animate([{bottom:"0px",opacity:0},{bottom:"30px",opacity:1}],{duration:500}),e.style.bottom="30px",e.style.opacity=1,function(e,t){if(window.localStorage){var n=l(e,!0);"object"==typeof n?n[e]=t:(n=new Object)[e]=t,window.localStorage.setItem("nx_notifications",JSON.stringify(n))}else console.log("Browser does not support localStorage!")}(t.id,n),document.querySelector(".notificationx-close").addEventListener("click",function(e){s(e.currentTarget.offsetParent)}))}function s(e){void 0!==e&&(e.animate([{opacity:1,bottom:"30px"},{opacity:0,bottom:"0px"}],{duration:300}),setTimeout(function(){e.remove()},300))}function l(e,t){var n=-1;if(window.localStorage){var o=window.localStorage.getItem("nx_notifications");if(null!==o&&void 0!==(o=JSON.parse(o))[e]){if(t)return o;n=o[e]}}else console.log("Browser does not support localStorage!");return n}0<(t=document.querySelectorAll(".nx-bar")).length&&t.forEach(function(r){var e=r.dataset.press_id,t=r.dataset.hide_after,n=r.dataset.auto_hide,o=(r.dataset.close_forever,new Date(r.dataset.start_date)),i=new Date(r.dataset.end_date),a=o.getTime(),c=i.getTime(),s=new Date,l=s.getTime();if(a<l&&l<c)var d=setInterval(function(){var e=(new Date).getTime(),t=c-e,n=Math.floor(t/864e5),o=Math.floor(t%864e5/36e5),i=Math.floor(t%36e5/6e4),a=Math.floor(t%6e4/1e3);r.querySelector(".nx-days").innerHTML=n,r.querySelector(".nx-hours").innerHTML=o,r.querySelector(".nx-minutes").innerHTML=i,r.querySelector(".nx-seconds").innerHTML=a,t<0&&(clearInterval(d),r.querySelector(".nx-countdown").classList.add("nx-expired"))},1e3);!function(t,e){if(""===t&&(t=document.querySelector(".nx-bar .nx-bar-"+e)),console.log(e,Cookies.get("notificationx_nx-bar-"+e)),!Cookies.get("notificationx_nx-bar-"+e)){var n=parseInt(t.dataset.initial_delay),o=t.querySelector(".nx-bar-inner").offsetHeight,i=document.querySelector("#wpadminbar"),a=null!=i?i.offsetHeight:0;(""===n||isNaN(n))&&(n=0),setTimeout(function(){var e=document.querySelector("html");e.classList.add("nx-bar-active"),t.classList.contains("nx-position-top")&&(e.animate([{paddingTop:0},{paddingTop:o+"px"}],{duration:300}),e.style.paddingTop=o+"px",t.animate([{top:"0px"},{top:a+"px"}],{duration:300}),t.style.top=a+"px"),t.classList.add("nx-bar-visible"),1},1e3*n)}}(r,e),""===t&&void 0===t||!parseInt(n)||setTimeout(function(){f("nx-bar-"+e)},1e3*parseInt(t))}),"undefined"!=typeof notificationx&&(window.localStorage.removeItem("nx_notifications"),0<notificationx.conversions.length&&o(notificationx.conversions[0]),0<notificationx.comments.length&&o(notificationx.comments[0]),0<notificationx.pro_ext.length&&notificationx.pro_ext.map(function(e,t){o(e[0])})),null!==(n=document.querySelector(".nx-bar .nx-close"))&&n.addEventListener("click",function(e){0,f(e.currentTarget.offsetParent.id)})});