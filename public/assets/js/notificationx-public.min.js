!function(d){"use strict";d.notificationx=d.notificationx||{},d.notificationx.active_pressbar=0,d(document).ready(function(){d.notificationx.init()}),d.notificationx.init=function(){d.notificationx.pressbar(),d.notificationx.conversions(),d.notificationx.events()},d.notificationx.pressbar=function(){var t=d(".nx-bar");0<t.length&&t.each(function(t,c){var n=c.dataset.press_id,i=c.dataset.hide_after,o=c.dataset.auto_hide,e=c.dataset.close_forever,a=new Date(c.dataset.start_date),r=new Date(c.dataset.end_date),s=a.getTime(),f=r.getTime(),x=(new Date).getTime();if(s<x&&x<f)var l=setInterval(function(){var t=(new Date).getTime(),n=f-t,i=Math.floor(n/864e5),o=Math.floor(n%864e5/36e5),e=Math.floor(n%36e5/6e4),a=Math.floor(n%6e4/1e3);c.querySelector(".nx-days").innerHTML=i,c.querySelector(".nx-hours").innerHTML=o,c.querySelector(".nx-minutes").innerHTML=e,c.querySelector(".nx-seconds").innerHTML=a,n<0&&(clearInterval(l),c.querySelector(".nx-countdown").classList.add("nx-expired"))},1e3);d.notificationx.showBar(c,n),""===i&&void 0===i||!parseInt(o)||setTimeout(function(){d.notificationx.hideBar("nx-bar-"+n,e)},1e3*parseInt(i))})},d.notificationx.conversions=function(){"undefined"!=typeof notificationx&&(window.localStorage.removeItem("nx_notifications"),0<notificationx.conversions.length&&d.notificationx.process(notificationx.conversions[0]),0<notificationx.comments.length&&d.notificationx.process(notificationx.comments[0]),0<notificationx.pro_ext.length&&notificationx.pro_ext.map(function(t,n){d.notificationx.process(t[0])}))},d.notificationx.events=function(){var t=d(".nx-bar .nx-close");null!==t&&t.on("click",function(t){d.notificationx.active_pressbar=0,d.notificationx.hideBar(t.currentTarget.offsetParent.id)})},d.notificationx.showBar=function(n,t){if(Cookies.get("notificationx_nx-bar-"+t))return!1;var i=parseInt(n.dataset.initial_delay),o=d(n).children(".nx-bar-inner"),e=document.querySelector("#wpadminbar"),a=null!=e?e.offsetHeight:0;(""===i||isNaN(i))&&(i=0),setTimeout(function(){var t=d("html");t.addClass("nx-bar-active"),d(n).hasClass("nx-position-top")&&(d(t).animate([{"padding-top":0},{"padding-top":o+"px"}],{duration:300}),t.css("padding-top",o+"px"),d(n).animate([{top:"0px"},{top:a+"px"}],{duration:300}),d(n).css("top",a+"px")),d(n).addClass("nx-bar-visible"),d.notificationx.active_pressbar=1},1e3*i)},d.notificationx.hideBar=function(t){var n=d(".nx-bar#"+t),i=d("html");if(n[0].dataset.close_forever){var o=(new Date).getTime()+5184e6,e=new Date(o);Cookies.set("notificationx_"+t,!0,{expires:e,path:"/"})}i.removeClass("nx-bar-active"),i.css("padding-top",0),n.animate({height:"0px"},300),n.removeClass("nx-bar-visible"),d.notificationx.active_pressbar=0},d.notificationx.render=function(n,t){var i=document.createElement("div");i.classList.add("notificationx-conversions"),i.insertAdjacentHTML("beforeend",t);var o=0,e=i.querySelectorAll(".notificationx-"+n.id),a=n.delay_between,c=d.notificationx.last(n.id,!1);0<=c&&(o=c+1),0===n.loop&&1===e.length&&(o=0),setTimeout(function(){d.notificationx.show(e[o],n,o),setTimeout(function(){d.notificationx.hide(e[o]),o++;var t=setInterval(function(){d.notificationx.show(e[o],n,o),setTimeout(function(){d.notificationx.hide(e[o]),o>=e.length-1?(o=0)===n.loop&&clearInterval(t):o++},n.display_for)},a+n.display_for)},n.display_for)},n.delay_before)},d.notificationx.process=function(t){fetch(notificationx.ajaxurl,{method:"POST",credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:"action=nx_get_conversions&nonce="+notificationx.nonce+"&ids="+t}).then(function(t){return t.json()}).then(function(t){d.notificationx.render(t.config,t.content)}).catch(function(t){})},d.notificationx.show=function(t,n,i){if(void 0!==t&&0!==t.length){d("body").append(t),d(t).animate({bottom:"30px",opacity:1},500),d.notificationx.save(n.id,i);var o=d(".notificationx-close");null!=o&&o.on("click",function(t){var n=d(this),i=d(n[0]).parents(".nx-notification");d.notificationx.hide(i)})}},d.notificationx.hide=function(t){void 0!==t&&(d(t).animate({bottom:"0px",opacity:0},500),setTimeout(function(){d.notificationx.remove(d(t))},300))},d.notificationx.remove=function(t){t.remove()},d.notificationx.save=function(t,n){if(window.localStorage){var i=d.notificationx.last(t,!0);"object"==typeof i?i[t]=n:(i=new Object)[t]=n,window.localStorage.setItem("nx_notifications",JSON.stringify(i))}else console.log("Browser does not support localStorage!")},d.notificationx.last=function(t,n){var i=-1;if(window.localStorage){var o=window.localStorage.getItem("nx_notifications");if(null!==o&&void 0!==(o=JSON.parse(o))[t]){if(n)return o;i=o[t]}}else console.log("Browser does not support localStorage!");return i}}(jQuery);